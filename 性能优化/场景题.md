> 按需加载（分野、延迟、懒加载）、预加载、CDN、缓存、大小、文件骨架屏占位

### 1、Dom元素太多

类似微博的下拉框，不停下拉会出现很多dom元素，dom元素太多的话会导致性能问题，怎么优化：

- 虚拟滚动（Virtual Scrolling）：虚拟滚动是一种技术，可以在滚动过程中**只渲染可视区域内的 DOM 元素**，而不是渲染所有的元素。这样可以减少页面上实际存在的 DOM 元素数量，从而提高性能。您可以使用现有的虚拟滚动库或框架，如 React Virtualized、ngx-virtual-scroller 等。

- 无限滚动（Infinite Scrolling）：无限滚动是一种技术，可以在滚动到页面底部时自动加载更多的内容，而不是一次性加载所有的内容。这样可以避免一次性渲染大量的 DOM 元素。您可以通过监听滚动事件，在滚动到底部时触发加载新内容的操作。

- 分页加载（Pagination）：将内容分页加载，每次只加载一页的内容。当用户滚动到页面底部时，加载下一页的内容。这样可以控制每次加载的元素数量，避免一次性加载大量的元素。

- 延迟加载（Lazy Loading）：对于下拉框中的元素，可以使用懒加载技术，只有当元素进入可视区域时才加载。这样可以避免一次性加载大量的元素，只加载用户实际可见的部分。

- 数据缓存：对于已经加载的元素，可以将其缓存在内存或其他存储介质中，避免重复请求和渲染。当用户滚动回之前加载过的位置时，直接使用缓存的数据进行渲染，提高性能。

- DOM 优化：优化已加载的 DOM 元素，减少不必要的嵌套和冗余结构。合理使用 CSS 样式和布局技巧，减少重绘和重排操作，提高渲染性能。

- **数据量控制**：如果下拉框中的数据量非常大，可以考虑增加搜索或筛选功能，让用户能够快速找到需要的内容，减少需要加载和渲染的元素数量。

通过结合使用上述优化方法，您可以减少页面上实际存在的 DOM 元素数量，提高性能，并在用户滚动时动态加载和渲染内容，避免一次性加载大量的元素。

### 2、图片太多

> 可以参考shopeepay home首页加载；年度账单中的图片资源。

- 图片压缩：使用适当的图片压缩工具来减小图片文件的大小，例如使用在线工具或图像编辑软件。压缩图片可以减少文件大小，从而加快加载速度，同时尽量保持图像质量。

- 图片格式选择：选择适当的图片格式，根据图片的内容和用途来决定使用 JPEG、PNG、GIF 等格式。一般而言，JPEG 格式适用于照片和彩色图像，PNG 格式适用于透明背景或需要保留高质量细节的图像，GIF 格式适用于简单的动画或少色彩的图像。

- 懒加载（Lazy Loading）：使用懒加载技术延迟加载图片，只有当用户滚动到图片所在的位置时才加载图片。这样可以减少初始页面加载的压力，提高页面加载速度。可以使用现有的 JavaScript 库或框架来实现懒加载功能。

- 响应式图片：针对不同的设备和屏幕尺寸，提供适应性的图片。使用响应式设计和媒体查询，根据设备的屏幕尺寸和分辨率，动态加载适合的图片大小和格式，避免加载过大的图片。

- CDN 加速：使用内容分发网络（CDN）来加速图片的加载。CDN 可以将图片缓存在分布在全球各地的服务器上，使用户可以从最接近他们的服务器获取图片，提高加载速度。

- 图片预加载：对于页面中重要的图片，可以使用预加载技术，提前加载这些图片，使其在用户需要时能够立即显示，减少等待时间。

- 按需加载：如果页面上有大量图片，可以将它们分为多个页面或分块加载。根据用户浏览的区域或用户的操作，动态加载相关的图片，减少一次性加载大量图片的压力。

- 缓存控制：通过正确设置缓存头信息，使浏览器能够缓存图片，减少重复请求，提高加载速度。可以使用缓存策略来控制图片的过期时间和缓存行为。

- 响应式设计：使用响应式设计来优化整个页面的布局和内容，使其在不同设备上都能够良好显示，从而减少不必要的图片加载。

懒加载：

> 图片懒加载（Lazy Loading）是一种延迟加载图片的技术，它的原理是在页面初次加载时，将图片的真实地址（src）设置为空字符串或一个占位符，而不是实际的图片地址。当用户滚动页面到达图片所在的可视区域时，再通过 JavaScript 动态地将真实的图片地址赋值给图片的 src 属性，从而触发图片的加载和显示。
>
> 以下是懒加载图片的基本步骤：
>
> - 初始状态：在 HTML 中，将需要懒加载的图片的 src 属性设置为空字符串或占位符，例如 < img src="" data-src="real-image.jpg" />。真实的图片地址保存在一个自定义的属性（例如 data-src）中，而不是直接设置在 src 属性中。
>
> - 监听滚动事件：使用 JavaScript 监听页面的滚动事件，或者使用现有的懒加载库或框架来处理滚动事件。
>
> - 判断图片是否进入可视区域：在滚动事件的处理函数中，判断每个需要懒加载的图片是否进入了可视区域。可以通过比较图片的位置和可视区域的位置来确定图片是否在可视区域内。
>
> - 加载图片：当判断图片进入可视区域后，将保存在 data-src 属性中的真实图片地址赋值给图片的 src 属性，从而触发图片的加载和显示。例如 imageElement.src = imageElement.getAttribute('data-src');。
>
> 通过这个过程，当用户滚动页面时，只有进入可视区域的图片才会加载，不可见的图片不会被加载，从而减少了不必要的网络请求和页面加载时间。

### 3、首页白屏

- 压缩和合并文件：压缩和合并 CSS 和 JavaScript 文件可以减少文件的大小和数量，从而减少网络请求的次数，加快页面加载速度。可以使用压缩工具和构建工具来自动化这个过程。

- 异步加载脚本：将 JavaScript 脚本标记为异步（async）或延迟（defer），以便在页面加载时不会阻塞其他资源的加载。这样可以确保页面的渲染不会被脚本的加载和执行所延迟。

- 图片优化：对于图片，可以使用适当的压缩和格式选择来减小文件大小。同时，使用懒加载技术延迟加载图片，只有当图片进入可视区域时才加载，避免一次性加载大量图片导致白屏。

- CDN 加速：使用内容分发网络（CDN）来加速静态资源的加载。CDN 可以将资源缓存在全球各地的服务器上，使用户可以从最接近他们的服务器获取资源，提高加载速度。

- 缓存控制：通过正确设置缓存头信息，使浏览器能够缓存静态资源，减少重复请求，提高加载速度。合理使用缓存策略来控制资源的过期时间和缓存行为。

- 代码优化：优化 HTML、CSS 和 JavaScript 代码，减少不必要的代码和重复代码，提高执行效率和加载速度。

- 延迟加载内容：将非关键内容（如广告、社交分享按钮等）延迟加载，等主要内容加载完毕后再加载这些附加内容，以提高页面的首次渲染速度。

- 服务器性能优化：确保服务器的性能良好，响应时间快。使用缓存、负载均衡等技术来提高服务器的处理能力和响应速度。

- 使用预加载技术：对于重要的资源，可以使用预加载技术提前加载这些资源，使其在用户需要时能够立即显示，减少等待时间和白屏问题。

- 响应式设计：使用响应式设计来优化整个页面的布局和内容，使其在不同设备上都能够良好显示，从而减少不必要的加载和渲染过程。
- 骨架屏先占位。

### 4、