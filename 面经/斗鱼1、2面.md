### 斗鱼1面

1、js基本数据类型（symbol），原型链（instanceof原理，手写实现）

2、算法：链表和线性表的区别，添加删除读取操作，为什么可以用索引直接读取数组元素

> 数组是一种特殊的对象类型，内部实现了索引到值的映射关系。
>
> JavaScript将指定的数字索引值换成字符串——索引值1变成“1”.... 出自JavaScript权威指南第6版第七章数组 P146
>
> 所以：var a = [1,2,[3,4]]
>
> ```
> a[2][1] 和 a[2]['1'] 一样的效果
> ```

3、事件捕获，事件冒泡

4、青蛙跳台阶

5、`a==1 && a==2 && a==3`可以为true吗

6、react框架了解吗

7、node了解多少，比如优缺点。egg基于koa实现的，egg.js对比nest.js框架，有没有写过中间件

8、浏览器渲染机制，主要还是输入url发生什么

9、输出什么

```javascript
console.log('script start')

setTimeout(function(){
    console.log('setTimeout');
}, 0)

new Promise(resolve=>{
    console.log('Promise');
    resolve();
})
    .then(()=>{
    console.log('Promise1');
})
    .then(()=>{
    console.log('Promise2');
})

console.log('script end')
```

10、promise底层实现

11、http1.0和http2.0的区别

12、websocket

面试反馈：

> 项目单一，其他框架不需要掌握，但也可以了解一下；问了很多你晓得底层原理吗



### 2面

1、题目

```javascript
/**
 * 找出data中非叶子结点的id，并输出
 */
const data = [{
    id: 1,
    label: '一级 1',
    children: [{
        id: 4,
        label: '二级 1-1',
        children: [{
            id: 9,
            label: '三级 1-1-1'
        }, {
            id: 10,
            label: '三级 1-1-2'
        }]
    }]
}, {
    id: 2,
    label: '一级 2',
    children: [{
        id: 5,
        label: '二级 2-1'
    }, {
        id: 6,
        label: '二级 2-2'
    }]
}, {
    id: 3,
    label: '一级 3',
    children: [{
        id: 7,
        label: '二级 3-1'
    }, {
        id: 8,
        label: '二级 3-2'
    }]
}]

const notLeaves = arr => {
    // TODO实现如下
    arr.forEach(item => {
        if(item.children){
            res.push(item.id);
            notLeaves(item.children);
        }
    })
}

var res = [];

notLeaves(data);

console.log(res)
```

2、实现登录功能，第三方登录（扫码登录），如何保持用户的登录状态

> Cookie??

3、跨域的场景和解决方法

4、状态码

5、输入url发生什么

6、类似微博的下拉框，不停下拉会出现很多dom元素，dom元素太多的话会导致性能问题，怎么优化

> 对于类似微博这样的下拉框，如果不断下拉会导致大量的 DOM 元素存在，可能会引起性能问题。下面是一些优化建议来解决这个问题：
>
> - 虚拟滚动（Virtual Scrolling）：虚拟滚动是一种技术，可以在滚动过程中**只渲染可视区域内的 DOM 元素**，而不是渲染所有的元素。这样可以减少页面上实际存在的 DOM 元素数量，从而提高性能。您可以使用现有的虚拟滚动库或框架，如 React Virtualized、ngx-virtual-scroller 等。
>
> - 无限滚动（Infinite Scrolling）：无限滚动是一种技术，可以在滚动到页面底部时自动加载更多的内容，而不是一次性加载所有的内容。这样可以避免一次性渲染大量的 DOM 元素。您可以通过监听滚动事件，在滚动到底部时触发加载新内容的操作。
>
> - 分页加载（Pagination）：将内容分页加载，每次只加载一页的内容。当用户滚动到页面底部时，加载下一页的内容。这样可以控制每次加载的元素数量，避免一次性加载大量的元素。
>
> - 延迟加载（Lazy Loading）：对于下拉框中的元素，可以使用懒加载技术，只有当元素进入可视区域时才加载。这样可以避免一次性加载大量的元素，只加载用户实际可见的部分。
>
> - 数据缓存：对于已经加载的元素，可以将其缓存在内存或其他存储介质中，避免重复请求和渲染。当用户滚动回之前加载过的位置时，直接使用缓存的数据进行渲染，提高性能。
>
> - DOM 优化：优化已加载的 DOM 元素，减少不必要的嵌套和冗余结构。合理使用 CSS 样式和布局技巧，减少重绘和重排操作，提高渲染性能。
>
> - **数据量控制**：如果下拉框中的数据量非常大，可以考虑增加搜索或筛选功能，让用户能够快速找到需要的内容，减少需要加载和渲染的元素数量。
>
> 通过结合使用上述优化方法，您可以减少页面上实际存在的 DOM 元素数量，提高性能，并在用户滚动时动态加载和渲染内容，避免一次性加载大量的元素。

7、类似输入框，输入汉字、表情（图片），怎样处理这样的输入框，img行内元素

> - 文本输入框：对于输入汉字，可以使用普通的文本输入框（<input type="text">或<textarea>）。这样用户可以直接输入汉字，并且浏览器会自动处理输入法相关的操作。然而，对于表情（图片），文本输入框无法直接显示图片，而是会以文本形式显示表情的字符编码。
>
> - 富文本编辑器：如果您希望用户能够输入并显示表情（图片），可以使用富文本编辑器，例如contenteditable属性或第三方富文本编辑器库（如Quill、Draft.js等）。这些编辑器允许用户以所见即所得的方式输入和编辑文本，并支持插入图片和表情等富媒体内容。
>
> - 图片表情转换：如果您需要在普通文本输入框中同时支持输入表情（图片），可以考虑将表情转换为对应的文本表示。例如，可以使用类似Emoji的字符编码或自定义的标记来表示表情，然后在后端或前端将这些文本表示转换为对应的表情图片进行展示。这样用户在输入时可以使用特定的文本表示来插入表情，而不是直接插入图片。
>
> 无论您选择哪种方法，都需要在后端进行适当的处理和安全性检查，以防止恶意代码注入和其他安全问。

8、垂直水平居中

9、为什么选择就业